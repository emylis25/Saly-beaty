<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Listado de Trabajadores</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <style>
        body {
           background-color: #fff0f5; /* Fondo general rosa claro */
       }

       h2 {
           color: #d16ba5;
           font-weight: bold;
           text-align: center;
           margin-bottom: 2rem;
       }

       .form-control, .form-select {
           background-color: #ffe4e1; /* Fondo rosa pastel para campos */
           border: 1px solid #f3b6c4;
           color: #4a4a4a;
       }

       .form-control:focus, .form-select:focus {
           border-color: #d16ba5;
           box-shadow: 0 0 0 0.2rem rgba(209, 107, 165, 0.25);
       }

       label.form-label {
           color: #7a4a6c;
           font-weight: 500;
       }

       .btn-primary {
           background-color: #f8c8dc;
           border-color: #f8c8dc;
           color: #4a4a4a;
       }

       .btn-primary:hover {
           background-color: #f4b0cc;
           border-color: #f4b0cc;
           color: #2c2c2c;
       }

       .btn-secondary {
           background-color: #d8bfd8;
           border-color: #d8bfd8;
           color: #4a4a4a;
       }

       .btn-secondary:hover {
           background-color: #cbaacb;
           border-color: #cbaacb;
           color: #2c2c2c;
       }

       .container {
           background-color: #fffafc;
           padding: 2rem;
           border-radius: 1rem;
           box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
       }
       .table-pink {
           border-color: #f3b6c4;
       }

       .table-pink thead th {
           background-color: #f8c8dc; /* Encabezado rosa más fuerte */
           color: #4a4a4a;
       }

       .table-pink tbody td {
           background-color: #ffe4e1; /* Rosa pastel para celdas */
           color: #333;
       }

       .table-pink tbody tr:hover td {
           background-color: #fddde6; /* Hover suave */
       }

       .table-pink td, .table-pink th {
           border-color: #f3b6c4;
       }

       .btn-success {
           background-color: #b2f2bb;
           border-color: #b2f2bb;
           color: #2f6f3e;
       }

       .btn-success:hover {
           background-color: #a3e9ac;
           border-color: #a3e9ac;
       }

       .btn-info {
           background-color: #a0e7e5;
           border-color: #a0e7e5;
           color: #2c4a4a;
       }

       .btn-info:hover {
           background-color: #90d9d7;
           border-color: #90d9d7;
       }

       .btn-warning {
           background-color: #ffe5b4;
           border-color: #ffe5b4;
           color: #7a5a00;
       }

       .btn-warning:hover {
           background-color: #ffd89c;
           border-color: #ffd89c;
       }

       .btn-danger {
           background-color: #ffb3b3;
           border-color: #ffb3b3;
           color: #7a1f1f;
       }

       .btn-danger:hover {
           background-color: #ff9e9e;
           border-color: #ff9e9e;
       }
    </style>
</head>
<body>
<div th:replace="~{layout/navbar :: navbar}"></div>
<div class="container mt-4">
    <h2 class="text-center mb-4 fw-bold text-primary">Gestión de Trabajadores</h2>

    <a th:href="@{/trabajadores/create}" class="btn btn-success mb-4 shadow-sm">
        <i class="bi bi-person-plus-fill"></i> Crear Nuevo Trabajador
    </a>
    <nav th:if="${pageNumbers}" class="d-flex justify-content-center mt-4">
        <ul class="pagination">
            <li th:each="num : ${pageNumbers}" class="page-item" th:classappend="${num == trabajadores.number + 1} ? 'active'">
                <a class="page-link" th:href="@{/trabajadores(page=${num})}" th:text="${num}"></a>
            </li>
        </ul>
    </nav>

    <div th:if="${msg}" class="alert alert-success" th:text="${msg}"></div>
    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <table class="table table-bordered table-hover table-pink">
        <thead class="table-dark text-center">
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Correo</th>
            <th>Teléfono</th>
            <th>Estado</th>
            <th>Red Social</th>
            <th>Fecha de Ingreso</th>
            <th>Calificación</th>
            <th>Rol</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="trabajador : ${trabajadores.content}">
            <td th:text="${trabajador.id}"></td>
            <td th:text="${trabajador.nombre}"></td>
            <td th:text="${trabajador.correo}"></td>
            <td th:text="${trabajador.telefono}"></td>
            <td>
                <span th:if="${trabajador.estado}" class="badge bg-success">
                    <i class="bi bi-check-circle-fill"></i> Activo
                </span>
                <span th:unless="${trabajador.estado}" class="badge bg-danger">
                    <i class="bi bi-x-circle-fill"></i> Inactivo
                </span>
            </td>
            <td th:text="${trabajador.redSocial}"></td>
            <td th:text="${trabajador.fechaIngreso}"></td>
            <td th:text="${trabajador.calificacion}"></td>
            <td th:text="${trabajador.rol}"></td>
            <td>
                <a th:href="@{/trabajadores/details/{id}(id=${trabajador.id})}" class="btn btn-info btn-sm me-1"><i class="bi bi-eye-fill"></i>Ver</a>
                <a th:href="@{/trabajadores/edit/{id}(id=${trabajador.id})}" class="btn btn-warning btn-sm me-1"><i class="bi bi-pencil-fill"></i>Editar</a>
                <a th:href="@{/trabajadores/remove/{id}(id=${trabajador.id})}" class="btn btn-danger btn-sm"><i class="bi bi-trash-fill"></i>Eliminar</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>